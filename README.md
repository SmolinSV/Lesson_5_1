# Lesson_5_
# ------------------------------------1-----------------------------
'''
Создать программно файл в текстовом формате, записать
в него построчно данные, вводимые пользователем.
Об окончании ввода данных свидетельствует пустая строка.
'''

my_f = open('тест.txt', 'w')
line = input('Введите текст \n')
в то время как линия:
    my_f.writelines(строка)
    line = input('Введите текст \n')
    если не линия:
        перерыв

my_f.закрыть()
my_f = open('тест.txt', 'r')
content = my_f.читать строки()
печать(содержание)
my_f.закрыть()


# ------------------------------------2-----------------------------
'''
Создать текстовый файл (не программно), сохранить
в нем несколько строк, выполнить подсчет количества строк,
количества слов в каждой строке.
'''

my_file = open('файл_2.txt', 'r')
content = my_file.читать()
print(f'Содержимое файла: \n {content}')
my_file = open('file_2.txt', 'r')
content = my_file.читать строки()
print(f'Количество строк в файле - {len(content)}')
my_file = open('файл_2.txt', 'r')
content = my_file.читать строки()
для i в диапазоне(len(content)):
    print(f'Окличество символов {i + 1} - ой строки {len(content[i])}')
my_file = open('file_2.txt', 'r')
content = my_file.читать()
content = содержание.сплит()
print(f'Общее количество слов - {len(content)}')
my_file.закрыть()

# ------------------------------------3-----------------------------
'''
Создать текстовый файл (не программно), построчно записать
фамилии сотрудников и величину их окладов.
Определить, кто из сотрудников имеет оклад менее 20 тыс.,
вывести фамилии этих сотрудников. Выполнить подсчет средней
величины дохода сотрудников.
'''


с открытым('sal.txt', 'r') как my_file:
    сал = []
    бедный = []
    my_list = my_file.читать().сплит('\n')
    для меня в моем списке:
        i = i.сплит()
        если int(i[1]) < 20000:
           бедный.добавление(i[0])
        Сэл.добавить(i[1])
print(f'Оклад меньше 20.000 {poor}, средний оклад {sum(map(int, sal)) / len(sal)}')

# ------------------------------------4-----------------------------
'''
Создать (не программно) текстовый файл со следующим содержимым:
Один-1
Два — 2
Три — 3
Четыре — 4
Необходимо написать программу, открывающую файл на чтение
и считывающую построчно данные. При этом английские
числительные должны заменяться на русские.
Новый блок строк должен записываться в новый текстовый файл.
'''

rus = {'One' : 'Один', 'Two' : 'Два', 'Three' : 'Три', 'Four' : 'Четыре'}
new_file = []
с открытым('file_4.txt', 'r') как file_obj:
    #content = file_obj.читать().сплит('\n')
    для i в file_obj:
        i = i.сплит('', 1)
        new_file.добавить(rus[i[0]] + '' + i[1])
    print(new_file)

с открытым('file_4_new.txt', 'w') как file_obj_2:
    file_obj_2.writelines(new_file)

# ------------------------------------5-----------------------------
'''
 Создать (программно) текстовый файл, записать в него программно
 набор чисел, разделенных пробелами. Программа должна
 подсчитывать сумму чисел в файле и выводить ее на экран.
'''

 резюме def():
    попробуй:
        с открытым('file_5.txt', ' w+') как file_obj:
            line = input('Введите цифры через пробел \n')
            file_obj.линиизаписи (строка)
            my_numb = строка.сплит()

            print(sum(map(int, my_numb)))
    кроме IOError:
        print('Ошибка в файле')
    кроме ValueError:
        print('Неправильно набран номер. Ошибка ввода-вывода')
резюме()

# ------------------------------------6-----------------------------
'''
 Необходимо создать (не программно) текстовый файл, где
 каждая строка описывает учебный предмет и наличие лекционных,
 практических и лабораторных занятий по этому предмету и их
 количество. Важно, чтобы для каждого предмета не обязательно
 были все типы занятий. Сформировать словарь, содержащий
 название предмета и общее количество занятий по нему. 
 Вывести словарь на экран.
 Примеры строк файла: Информатика:
 100(л) 50(пр) 20(лаб).
    
 Физика: 30(л) — 10(лаб)
 Физкультура: — 30(пр) —
 Пример словаря: {“Информатика”: 170, “Физика”: 40,
 “Физкультура”: 30}
'''
#импорт json

subj = {}
с открытым('file_6.txt', 'r') как init_f:
    для строки  init_f:
        тема, лекция, практика, лаборатория = строка.сплит()
        subj[тема] = int(лекция) + int(практика) + int(лаборатория)
    print(f'Общее количество часов по предмету - \n {subj}')

# ------------------------------------7-----------------------------
'''
 Создать вручную и заполнить несколькими строками текстовый файл,
 в котором каждая строка должна содержать данные о фирме:
 название, форма собственности, выручка, издержки.
 Пример строки файла: firm_1 ООО 10000 5000.
 Необходимо построчно прочитать файл, вычислить прибыль каждой
 компании, а также среднюю прибыль. Если фирма получила убытки,
 в расчет средней прибыли ее не включать.
 Далее реализовать список. Он должен содержать словарь 
 с фирмами и их прибылями, а также словарь со средней прибылью. 
 Если фирма получила убытки, также добавить ее в словарь 
 (со значением убытков).
 Пример списка: [{“firm_1”: 5000, “firm_2”: 3000, “firm_3”: 1000}, 
 {"average_profit": 2000}].
 Итоговый список сохранить в виде json-объекта в соответствующий 
 файл.
 Пример json-объекта:
 [{"firm_1": 5000, "firm_2": 3000, "firm_3": 1000}, 
 {"average_profit": 2000}]
 Подсказка: использовать менеджер контекста.
'''
импорт json
прибыль = {}
пр = {}
проф = 0
prof_aver = 0
i = 0
с открытым('file_7.txt', 'r') в виде файла:
    для строки в файле:
        имя, фирма, заработок, ущерб = строка.сплит()
        profit[name] = int(заработок) - int(ущерб)
        если прибыль.setdefault(name) > = > 0:
            проф = проф + прибыль.setdefault(имя)
            i += 1
    если я ...= 0:
        prof_aver = prof / i
        print(f'Прибыль средняя - {prof_aver:.2f}')
    остальное:
        print(f'Прибыль средняя - отсутсвует. Все работают в убыток')
    pr = {'средняя прибыль': round(prof_aver)}
    прибыль.обновление(pr)
    print(f'Прибыль каждой компании - {profit}')

с открытым('file_7.json', 'w') как write_js:
    джсон.дамп(profit, write_js)

    js_str = json.свалки(прибыль)
    print(f'Создан файл с расширением json со следующим содержимым: \n '
          f ' {js_str}') 
